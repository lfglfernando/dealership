<main>
    <h1>Edit <%= inv_make %> <%= inv_model %></h1>
  
    <% if (errors) { %>
      <ul class="flash-message error">
        <% errors.array().forEach(error => { %>
          <li><%= error.msg %></li>
        <% }) %>
      </ul>
    <% } %>
  
    <form id="updateForm" action="/inv/update" method="post">
      <label for="classificationList">Classification</label>
      <%- classificationSelect %>
  
      <label for="inv_make">Make</label>
      <input type="text" name="inv_make" id="inv_make" value="<%= inv_make %>" required>
  
      <label for="inv_model">Model</label>
      <input
        name="inv_model"
        id="inv_model"
        type="text"
        required
        pattern="^[A-Za-z0-9\s\-]{1,50}$"
        title="Model must be 1-50 characters and can include letters, numbers, spaces, and hyphens."
        value="<%= inv_model %>"
      >
  
      <label for="inv_description">Description</label>
      <textarea
        name="inv_description"
        id="inv_description"
        required
        minlength="10"
        title="Description must be at least 10 characters."
      ><%= inv_description %></textarea>
  
      <label for="inv_image">Image Path</label>
      <input
        name="inv_image"
        id="inv_image"
        type="text"
        required
        pattern="^/images/vehicles/[a-zA-Z0-9_-]+\.(jpg|png|jpeg|gif)$"
        title="Path should start with /images/vehicles/ and end in .jpg, .png, .jpeg, or .gif"
        value="<%= inv_image %>"
      >
  
      <label for="inv_thumbnail">Thumbnail Path</label>
      <input
        name="inv_thumbnail"
        id="inv_thumbnail"
        type="text"
        required
        pattern="^/images/vehicles/[a-zA-Z0-9_-]+\.(jpg|png|jpeg|gif)$"
        title="Path should start with /images/vehicles/ and end in .jpg, .png, .jpeg, or .gif"
        value="<%= inv_thumbnail %>"
      >
  
      <label for="inv_price">Price</label>
      <input
        name="inv_price"
        id="inv_price"
        type="number"
        min="0"
        step="0.01"
        required
        title="Price must be a number greater than 0."
        value="<%= inv_price %>"
      >
  
      <label for="inv_year">Year</label>
      <input
        name="inv_year"
        id="inv_year"
        type="number"
        min="1900"
        max="<%= new Date().getFullYear() + 1 %>"
        required
        title="Enter a valid year between 1900 and <%= new Date().getFullYear() + 1 %>."
        value="<%= inv_year %>"
      >
  
      <label for="inv_miles">Miles</label>
      <input
        name="inv_miles"
        id="inv_miles"
        type="number"
        min="0"
        required
        title="Miles must be a number greater than or equal to 0."
        value="<%= inv_miles %>"
      >
  
      <label for="inv_color">Color</label>
      <input
        name="inv_color"
        id="inv_color"
        type="text"
        required
        pattern="^[A-Za-z\s]{1,30}$"
        title="Color must only contain letters and spaces."
        value="<%= inv_color %>"
      >
  
      <!-- Hidden input to send the ID of the vehicle being edited -->
      <input type="hidden" name="inv_id" value="<%= inv_id %>">
  
      <button type="submit" class="btn blue" disabled>Update Vehicle</button>
    </form>
  
    <!-- Script to enable the button only when something changes -->
    <script src="/js/inv-update.js"></script>
  </main>
  